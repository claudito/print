<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>Print</title>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<!-- FontAwesome -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Sweet Alert -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>


</head>
<body>

<div class="container-fluid">
  
<div class="row">
  
<div class="col-md-12">
  

<button class="btn btn-primary btn-print"><i class="fa fa-print"></i></button>


</div>

</div>


</div>
  

<script>
  
$(document).on('click','.btn-print',function(e){

swal({
  title: "An input!",
  text: "Write something interesting:",
  type: "input",
  showCancelButton: true,
  closeOnConfirm: false,
  inputPlaceholder: "Write something"
}, function (inputValue) {
  if (inputValue === false) return false;
  if (inputValue === "") {
    swal.showInputError("You need to write something!");
    return false
  }

  //cab  = '';

 $.getJSON('source.php',{},function(data){

     cab = data;

   console.log(cab);

   });

    console.log(cab);


  $.ajax({

   url:'http://localhost/print/test.php',
   type:'POST',
   data:{'cab':JSON.stringify(cab)},
   beforeSend:function(){

    swal({

      title : 'Cargando',
      text  : 'Espere un momento',
      showConfirmButton:false

    })
   

   },
   success:function(){

     swal({

      title : 'Buen Trabajo',
      text  : 'Ticket Impreso',
      type  : 'success',
      showConfirmButton:false

    })


   }





  });




});




e.preventDefault();
});



</script>
</body>
</html>